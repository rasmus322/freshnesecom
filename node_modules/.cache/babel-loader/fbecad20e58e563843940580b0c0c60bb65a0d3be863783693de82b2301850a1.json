{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*\nCopyright (c) NAVER Corp.\nname: @egjs/vue3-flicking\nlicense: MIT\nauthor: NAVER Corp.\nrepository: https://github.com/naver/egjs-flicking/tree/master/packages/vue3-flicking\nversion: 4.10.7\n*/\nimport { defineComponent, getCurrentInstance, resolveComponent, h, Comment, Text, Fragment } from 'vue';\nimport ListDiffer from '@egjs/list-differ';\nimport Component from '@egjs/component';\nimport VanillaFlicking__default, { getFlickingAttached, ExternalRenderer, getRenderingPanels, range, withFlickingMethods, VirtualRenderingStrategy, NormalRenderingStrategy, EVENTS, sync, getDefaultCameraTransform } from '@egjs/flicking';\nexport * from '@egjs/flicking';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nvar FlickingProps = {\n  viewportTag: {\n    type: String,\n    default: \"div\",\n    required: false\n  },\n  cameraTag: {\n    type: String,\n    default: \"div\",\n    required: false\n  },\n  cameraClass: {\n    type: String,\n    default: \"\",\n    required: false\n  },\n  hideBeforeInit: {\n    type: Boolean,\n    default: false,\n    required: false\n  },\n  firstPanelSize: {\n    type: String,\n    required: false\n  },\n  options: {\n    type: Object,\n    default: function () {\n      return {};\n    },\n    required: false\n  },\n  plugins: {\n    type: Array,\n    default: function () {\n      return [];\n    },\n    required: false\n  },\n  status: {\n    type: Object,\n    required: false\n  }\n};\nvar VueRenderer = /*#__PURE__*/\nfunction (_super) {\n  __extends(VueRenderer, _super);\n  function VueRenderer(options) {\n    var _this = _super.call(this, options) || this;\n    _this._vueFlicking = options.vueFlicking;\n    return _this;\n  }\n  var __proto = VueRenderer.prototype;\n  __proto.render = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var flicking, vueFlicking, strategy;\n      var _this = this;\n      return __generator(this, function (_a) {\n        flicking = getFlickingAttached(this._flicking);\n        vueFlicking = this._vueFlicking;\n        strategy = this._strategy;\n        strategy.updateRenderingPanels(flicking);\n        strategy.renderPanels(flicking);\n        return [2\n        /*return*/, new Promise(function (resolve) {\n          vueFlicking.renderEmitter.once(\"render\", function () {\n            _this._afterRender();\n            resolve();\n          });\n          vueFlicking.$forceUpdate();\n        })];\n      });\n    });\n  };\n  __proto.forceRenderAllPanels = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var vueFlicking;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            vueFlicking = this._vueFlicking;\n            return [4\n            /*yield*/, _super.prototype.forceRenderAllPanels.call(this)];\n          case 1:\n            _a.sent();\n            return [2\n            /*return*/, new Promise(function (resolve) {\n              vueFlicking.renderEmitter.once(\"render\", resolve);\n              vueFlicking.$forceUpdate();\n            })];\n        }\n      });\n    });\n  };\n  __proto._collectPanels = function () {\n    var flicking = getFlickingAttached(this._flicking);\n    var vueFlicking = this._vueFlicking;\n    var childRefs = vueFlicking.$refs;\n    var vuePanels = Object.keys(childRefs).map(function (refKey) {\n      return childRefs[refKey];\n    });\n    this._panels = this._strategy.collectPanels(flicking, vuePanels);\n  };\n  __proto._createPanel = function (externalComponent, options) {\n    return this._strategy.createPanel(externalComponent, options);\n  };\n  return VueRenderer;\n}(ExternalRenderer);\n\n/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nvar VuePanel = defineComponent({\n  data: function () {\n    return {\n      hide: false\n    };\n  },\n  render: function () {\n    if (this.hide || !this.$slots.default) return;\n    return this.$slots.default();\n  }\n});\nvar VueElementProvider = /*#__PURE__*/\nfunction () {\n  function VueElementProvider(el) {\n    this._el = el;\n  }\n  var __proto = VueElementProvider.prototype;\n  Object.defineProperty(__proto, \"rendered\", {\n    get: function () {\n      return !this._el.hide;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(__proto, \"element\", {\n    get: function () {\n      var el = this._el.$el.nextSibling;\n      if (el && el.nodeType === Node.ELEMENT_NODE) {\n        this._cachedElement = el;\n      }\n      return this._cachedElement;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  __proto.show = function () {\n    this._el.hide = false;\n  };\n  __proto.hide = function () {\n    this._el.hide = true;\n  };\n  return VueElementProvider;\n}();\nvar Flicking = defineComponent({\n  props: FlickingProps,\n  components: {\n    Panel: VuePanel\n  },\n  data: function () {\n    return {};\n  },\n  created: function () {\n    var _this = this;\n    this.vanillaFlicking = null;\n    this.renderEmitter = new Component();\n    this.diffResult = null;\n    this.getPanels = function () {\n      var componentInstance = getCurrentInstance();\n      var vueFlicking = componentInstance === null || componentInstance === void 0 ? void 0 : componentInstance.ctx;\n      var flicking = _this.vanillaFlicking;\n      var defaultSlots = _this.getSlots();\n      var diffResult = vueFlicking === null || vueFlicking === void 0 ? void 0 : vueFlicking.diffResult;\n      var slots = diffResult ? getRenderingPanels(flicking, diffResult) : defaultSlots;\n      var panelComponent = resolveComponent(\"Panel\");\n      var panels = slots.map(function (slot, idx) {\n        return h(panelComponent, {\n          key: slot.key,\n          ref: idx.toString()\n        }, function () {\n          return slot;\n        });\n      });\n      return panels;\n    };\n    this.getVirtualPanels = function () {\n      var options = _this.options;\n      var _a = options.virtual.panelClass,\n        panelClass = _a === void 0 ? \"flicking-panel\" : _a;\n      var panelsPerView = options.panelsPerView;\n      var flicking = _this.vanillaFlicking;\n      var initialized = flicking && flicking.initialized;\n      var renderingIndexes = initialized ? flicking.renderer.strategy.getRenderingIndexesByOrder(flicking) : range(panelsPerView + 1);\n      var firstPanel = initialized && flicking.panels[0];\n      var size = firstPanel ? flicking.horizontal ? {\n        width: firstPanel.size\n      } : {\n        height: firstPanel.size\n      } : {};\n      return renderingIndexes.map(function (idx) {\n        return h(\"div\", {\n          key: idx,\n          ref: idx.toString(),\n          class: panelClass,\n          style: size,\n          \"data-element-index\": idx\n        });\n      });\n    };\n    withFlickingMethods(this, \"vanillaFlicking\");\n  },\n  mounted: function () {\n    var _this = this;\n    var _a;\n    var options = this.options;\n    var viewportEl = this.$el;\n    var rendererOptions = {\n      vueFlicking: this,\n      align: options.align,\n      strategy: options.virtual && ((_a = options.panelsPerView) !== null && _a !== void 0 ? _a : -1) > 0 ? new VirtualRenderingStrategy() : new NormalRenderingStrategy({\n        providerCtor: VueElementProvider\n      })\n    };\n    var flicking = new VanillaFlicking__default(viewportEl, __assign(__assign({}, options), {\n      externalRenderer: new VueRenderer(rendererOptions)\n    }));\n    this.vanillaFlicking = flicking;\n    flicking.once(EVENTS.READY, function () {\n      _this.$forceUpdate();\n    });\n    var slots = this.getSlots();\n    this.slotDiffer = new ListDiffer(slots, function (vnode) {\n      return vnode.key;\n    });\n    this.pluginsDiffer = new ListDiffer();\n    this.bindEvents();\n    this.checkPlugins();\n    if (this.status) {\n      flicking.setStatus(this.status);\n    }\n  },\n  beforeUnmount: function () {\n    var _a;\n    (_a = this.vanillaFlicking) === null || _a === void 0 ? void 0 : _a.destroy();\n  },\n  beforeMount: function () {\n    this.fillKeys();\n  },\n  beforeUpdate: function () {\n    this.fillKeys();\n    this.diffResult = this.slotDiffer.update(this.getSlots());\n  },\n  updated: function () {\n    var flicking = this.vanillaFlicking;\n    var diffResult = this.diffResult;\n    this.checkPlugins();\n    this.renderEmitter.trigger(\"render\");\n    if (!diffResult || !(flicking === null || flicking === void 0 ? void 0 : flicking.initialized)) return;\n    var children = this.getChildren();\n    sync(flicking, diffResult, children);\n    if (diffResult.added.length > 0 || diffResult.removed.length > 0) {\n      this.$forceUpdate();\n    }\n    this.diffResult = undefined;\n  },\n  render: function () {\n    var _a;\n    var _b;\n    var flicking = this.vanillaFlicking;\n    var options = this.options;\n    var initialized = flicking && flicking.initialized;\n    var isHorizontal = flicking ? flicking.horizontal : (_b = this.options.horizontal) !== null && _b !== void 0 ? _b : true;\n    var viewportData = {\n      class: {\n        \"flicking-viewport\": true,\n        \"vertical\": !isHorizontal,\n        \"flicking-hidden\": this.hideBeforeInit && !initialized\n      }\n    };\n    var cameraData = {\n      class: (_a = {\n        \"flicking-camera\": true\n      }, _a[this.cameraClass] = !!this.cameraClass, _a),\n      style: !initialized && this.firstPanelSize ? {\n        transform: getDefaultCameraTransform(this.options.align, this.options.horizontal, this.firstPanelSize)\n      } : {}\n    };\n    var panels = options.virtual && options.panelsPerView && options.panelsPerView > 0 ? this.getVirtualPanels : this.getPanels;\n    var viewportSlots = this.$slots.viewport ? this.$slots.viewport() : [];\n    return h(this.viewportTag, viewportData, __spreadArray([h(this.cameraTag, cameraData, {\n      default: panels\n    })], viewportSlots, true));\n  },\n  methods: {\n    getSlots: function () {\n      var _this = this;\n      var slots = this.$slots.default ? this.$slots.default() : [];\n      return slots.reduce(function (elementSlots, slot) {\n        return __spreadArray(__spreadArray([], elementSlots, true), _this.getElementVNodes(slot), true);\n      }, []).filter(function (slot) {\n        return slot.type !== Comment && slot.type !== Text;\n      });\n    },\n    getElementVNodes: function (slot, childSlots) {\n      var _this = this;\n      if (childSlots === void 0) {\n        childSlots = [];\n      }\n      if (slot.type === Fragment && Array.isArray(slot.children)) {\n        slot.children.filter(function (child) {\n          return child && typeof child === \"object\";\n        }).forEach(function (child) {\n          return _this.getElementVNodes(child, childSlots);\n        });\n      } else {\n        childSlots.push(slot);\n      }\n      return childSlots;\n    },\n    bindEvents: function () {\n      var _this = this;\n      var flicking = this.vanillaFlicking;\n      var events = Object.keys(EVENTS).map(function (key) {\n        return EVENTS[key];\n      });\n      events.forEach(function (eventName) {\n        flicking.on(eventName, function (e) {\n          e.currentTarget = _this; // Make events from camelCase to kebab-case\n\n          _this.$emit(eventName.replace(/([A-Z])/g, \"-$1\").toLowerCase(), e);\n        });\n      });\n    },\n    checkPlugins: function () {\n      var _a, _b;\n      var _c = this.pluginsDiffer.update(this.plugins),\n        list = _c.list,\n        added = _c.added,\n        removed = _c.removed,\n        prevList = _c.prevList;\n      (_a = this.vanillaFlicking).addPlugins.apply(_a, added.map(function (index) {\n        return list[index];\n      }));\n      (_b = this.vanillaFlicking).removePlugins.apply(_b, removed.map(function (index) {\n        return prevList[index];\n      }));\n    },\n    fillKeys: function () {\n      var vnodes = this.getSlots();\n      vnodes.forEach(function (node, idx) {\n        if (node.key == null) {\n          node.key = \"$_\".concat(idx);\n        }\n      });\n    },\n    getChildren: function () {\n      var childRefs = this.$refs;\n      return Object.keys(childRefs).map(function (refKey) {\n        return childRefs[refKey];\n      });\n    }\n  },\n  watch: {\n    options: {\n      handler: function (newOptions) {\n        var flicking = this.vanillaFlicking;\n        if (!flicking) return; // Omit 'virtual', as it can't have any setter\n\n        newOptions.virtual;\n        var options = __rest(newOptions, [\"virtual\"]); // eslint-disable-line @typescript-eslint/no-unused-vars\n\n        for (var key in options) {\n          if (key in flicking && flicking[key] !== options[key]) {\n            flicking[key] = options[key];\n          }\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  }\n});\nexport { Flicking as default };","map":{"version":3,"names":["FlickingProps","viewportTag","type","String","default","required","cameraTag","cameraClass","hideBeforeInit","Boolean","firstPanelSize","options","Object","plugins","Array","status","VueRenderer","__extends","_super","_this","call","_vueFlicking","vueFlicking","__proto","render","flicking","getFlickingAttached","_flicking","strategy","_strategy","updateRenderingPanels","renderPanels","Promise","resolve","renderEmitter","once","_afterRender","$forceUpdate","forceRenderAllPanels","prototype","_a","sent","_collectPanels","childRefs","$refs","vuePanels","keys","map","refKey","_panels","collectPanels","_createPanel","externalComponent","createPanel","ExternalRenderer","VuePanel","defineComponent","data","hide","$slots","VueElementProvider","el","_el","defineProperty","get","$el","nextSibling","nodeType","Node","ELEMENT_NODE","_cachedElement","show","Flicking","props","components","Panel","created","vanillaFlicking","Component","diffResult","getPanels","componentInstance","getCurrentInstance","ctx","defaultSlots","getSlots","slots","getRenderingPanels","panelComponent","resolveComponent","panels","slot","idx","h","key","ref","toString","getVirtualPanels","virtual","panelClass","panelsPerView","initialized","renderingIndexes","renderer","getRenderingIndexesByOrder","range","firstPanel","size","horizontal","width","height","class","style","withFlickingMethods","mounted","viewportEl","rendererOptions","align","VirtualRenderingStrategy","NormalRenderingStrategy","providerCtor","VanillaFlicking__default","__assign","externalRenderer","EVENTS","READY","slotDiffer","ListDiffer","vnode","pluginsDiffer","bindEvents","checkPlugins","setStatus","beforeUnmount","destroy","beforeMount","fillKeys","beforeUpdate","update","updated","trigger","children","getChildren","sync","added","length","removed","undefined","isHorizontal","_b","viewportData","cameraData","transform","getDefaultCameraTransform","viewportSlots","viewport","__spreadArray","methods","reduce","elementSlots","getElementVNodes","filter","Comment","Text","childSlots","Fragment","isArray","child","forEach","push","events","eventName","on","e","currentTarget","$emit","replace","toLowerCase","_c","list","prevList","addPlugins","apply","index","removePlugins","vnodes","node","concat","watch","handler","newOptions","__rest","deep","immediate"],"sources":["../src/FlickingProps.ts","../src/VueRenderer.ts","../src/VuePanel.ts","../src/VueElementProvider.ts","../src/Flicking.ts"],"sourcesContent":["/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { PropType } from \"vue\";\nimport { FlickingOptions, Plugin, Status } from \"@egjs/flicking\";\n\nexport default {\n  viewportTag: {\n    type: String,\n    default: \"div\",\n    required: false\n  },\n  cameraTag: {\n    type: String,\n    default: \"div\",\n    required: false\n  },\n  cameraClass: {\n    type: String,\n    default: \"\",\n    required: false\n  },\n  hideBeforeInit: {\n    type: Boolean,\n    default: false,\n    required: false\n  },\n  firstPanelSize: {\n    type: String,\n    required: false\n  },\n  options: {\n    type: Object as unknown as () => Partial<FlickingOptions>,\n    default: () => ({}),\n    required: false\n  },\n  plugins: {\n    type: Array as PropType<Plugin[]>,\n    default: () => ([]),\n    required: false\n  },\n  status: {\n    type: Object as PropType<Status>,\n    required: false\n  }\n};\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport {\n  ExternalRenderer,\n  getFlickingAttached,\n  PanelOptions,\n  RendererOptions\n} from \"@egjs/flicking\";\n\nimport VueFlicking from \"./Flicking\";\nimport VuePanel from \"./VuePanel\";\n\nexport interface VueRendererOptions extends RendererOptions {\n  vueFlicking: VueFlicking;\n}\n\nclass VueRenderer extends ExternalRenderer {\n  // Internal States\n  private _vueFlicking: VueFlicking;\n\n  public constructor(options: VueRendererOptions) {\n    super(options);\n\n    this._vueFlicking = options.vueFlicking;\n  }\n\n  public async render() {\n    const flicking = getFlickingAttached(this._flicking);\n    const vueFlicking = this._vueFlicking;\n    const strategy = this._strategy;\n\n    strategy.updateRenderingPanels(flicking);\n    strategy.renderPanels(flicking);\n\n    return new Promise<void>((resolve) => {\n      vueFlicking.renderEmitter.once(\"render\", () => {\n        this._afterRender();\n        resolve();\n      });\n      vueFlicking.$forceUpdate();\n    });\n  }\n\n  public async forceRenderAllPanels() {\n    const vueFlicking = this._vueFlicking;\n\n    await super.forceRenderAllPanels();\n\n    return new Promise<void>((resolve) => {\n      vueFlicking.renderEmitter.once(\"render\", resolve);\n      vueFlicking.$forceUpdate();\n    });\n  }\n\n  protected _collectPanels() {\n    const flicking = getFlickingAttached(this._flicking);\n    const vueFlicking = this._vueFlicking;\n    const childRefs = vueFlicking.$refs;\n    const vuePanels: any[] = Object.keys(childRefs).map(refKey => childRefs[refKey]);\n\n    this._panels = this._strategy.collectPanels(flicking, vuePanels);\n  }\n\n  protected _createPanel(externalComponent: VuePanel, options: PanelOptions) {\n    return this._strategy.createPanel(externalComponent, options);\n  }\n}\n\nexport default VueRenderer;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\n\nimport { defineComponent } from \"vue\";\n\nconst VuePanel = defineComponent({\n  data() {\n    return {\n      hide: false\n    };\n  },\n  render() {\n    if (this.hide || !this.$slots.default) return;\n\n    return this.$slots.default();\n  }\n});\n\ntype VuePanelType = InstanceType<typeof VuePanel>;\n\ninterface VuePanel extends VuePanelType {}\nexport default VuePanel;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { ElementProvider } from \"@egjs/flicking\";\n\nimport VuePanel from \"./VuePanel\";\n\nclass VueElementProvider implements ElementProvider {\n  private _el: VuePanel;\n  private _cachedElement: HTMLElement;\n\n  public get rendered() { return !this._el.hide; }\n  public get element() {\n    const el = this._el.$el.nextSibling as HTMLElement;\n\n    if (el && el.nodeType === Node.ELEMENT_NODE) {\n      this._cachedElement = el;\n    }\n\n    return this._cachedElement;\n  }\n\n  public constructor(el: VuePanel) {\n    this._el = el;\n  }\n\n  public show() {\n    this._el.hide = false;\n  }\n\n  public hide() {\n    this._el.hide = true;\n  }\n}\n\nexport default VueElementProvider;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { h, defineComponent, VNode, resolveComponent, Fragment, getCurrentInstance, Comment, Text } from \"vue\";\nimport ListDiffer, { DiffResult } from \"@egjs/list-differ\";\nimport Component from \"@egjs/component\";\nimport VanillaFlicking, {\n  EVENTS,\n  withFlickingMethods,\n  sync,\n  Plugin,\n  getRenderingPanels,\n  getDefaultCameraTransform,\n  range,\n  VirtualRenderingStrategy,\n  NormalRenderingStrategy\n} from \"@egjs/flicking\";\n\nimport FlickingProps from \"./FlickingProps\";\nimport VueRenderer, { VueRendererOptions } from \"./VueRenderer\";\nimport VuePanel from \"./VuePanel\";\nimport VueElementProvider from \"./VueElementProvider\";\nimport { VueFlicking } from \"./types\";\n\nconst Flicking = defineComponent({\n  props: FlickingProps,\n  components: {\n    Panel: VuePanel\n  },\n  data() {\n    return {} as {\n      renderEmitter: Component<{ render: void }>;\n      vanillaFlicking: VanillaFlicking;\n      pluginsDiffer: ListDiffer<Plugin>;\n      slotDiffer: ListDiffer<VNode>;\n      diffResult: DiffResult<VNode> | null;\n    };\n  },\n  created() {\n    this.vanillaFlicking = null;\n    this.renderEmitter = new Component();\n    this.diffResult = null;\n\n    this.getPanels = () => {\n      const componentInstance = getCurrentInstance() as unknown as { ctx: Flicking } | null;\n      const vueFlicking = componentInstance?.ctx;\n      const flicking = this.vanillaFlicking;\n      const defaultSlots = this.getSlots();\n      const diffResult = vueFlicking?.diffResult;\n\n      const slots = diffResult\n        ? getRenderingPanels(flicking, diffResult)\n        : defaultSlots;\n\n      const panelComponent = resolveComponent(\"Panel\");\n      const panels = slots.map((slot, idx) => h(panelComponent as any, {\n        key: slot.key!,\n        ref: idx.toString()\n      }, () => slot));\n\n      return panels;\n    };\n    this.getVirtualPanels = () => {\n      const options = this.options;\n      const {\n        panelClass = \"flicking-panel\"\n      } = options.virtual!;\n      const panelsPerView = options.panelsPerView as number;\n      const flicking = this.vanillaFlicking;\n      const initialized = flicking && flicking.initialized;\n\n      const renderingIndexes = initialized\n        ? flicking.renderer.strategy.getRenderingIndexesByOrder(flicking)\n        : range(panelsPerView + 1);\n\n      const firstPanel = initialized && flicking.panels[0];\n      const size = firstPanel\n        ? flicking.horizontal\n          ? { width: firstPanel.size }\n          : { height: firstPanel.size }\n        : {};\n\n      return renderingIndexes.map(idx => h(\"div\", {\n        key: idx,\n        ref: idx.toString(),\n        class: panelClass,\n        style: size,\n        \"data-element-index\": idx\n      }));\n    };\n\n    withFlickingMethods(this, \"vanillaFlicking\");\n  },\n  mounted() {\n    const options = this.options;\n    const viewportEl = this.$el as HTMLElement;\n    const rendererOptions: VueRendererOptions = {\n      vueFlicking: this,\n      align: options.align,\n      strategy: options.virtual && (options.panelsPerView ?? -1) > 0\n        ? new VirtualRenderingStrategy()\n        : new NormalRenderingStrategy({\n          providerCtor: VueElementProvider\n        })\n    };\n\n    const flicking = new VanillaFlicking(viewportEl, {\n      ...options,\n      externalRenderer: new VueRenderer(rendererOptions)\n    });\n    this.vanillaFlicking = flicking;\n\n    flicking.once(EVENTS.READY, () => {\n      this.$forceUpdate();\n    });\n\n    const slots = this.getSlots();\n    this.slotDiffer = new ListDiffer<VNode>(slots, vnode => vnode.key! as string | number);\n    this.pluginsDiffer = new ListDiffer<Plugin>();\n\n    this.bindEvents();\n    this.checkPlugins();\n\n    if (this.status) {\n      flicking.setStatus(this.status);\n    }\n  },\n  beforeUnmount() {\n    this.vanillaFlicking?.destroy();\n  },\n  beforeMount() {\n    this.fillKeys();\n  },\n  beforeUpdate() {\n    this.fillKeys();\n\n    this.diffResult = this.slotDiffer.update(this.getSlots());\n  },\n  updated() {\n    const flicking = this.vanillaFlicking;\n    const diffResult = this.diffResult;\n\n    this.checkPlugins();\n    this.renderEmitter.trigger(\"render\");\n\n    if (!diffResult || !flicking?.initialized) return;\n\n    const children = this.getChildren();\n\n    sync(flicking, diffResult, children);\n\n    if (diffResult.added.length > 0 || diffResult.removed.length > 0) {\n      this.$forceUpdate();\n    }\n\n    this.diffResult = undefined;\n  },\n  render() {\n    const flicking = this.vanillaFlicking;\n    const options = this.options;\n    const initialized = flicking && flicking.initialized;\n    const isHorizontal = flicking\n      ? flicking.horizontal\n      : this.options.horizontal ?? true;\n\n    const viewportData = {\n      class: {\n        \"flicking-viewport\": true,\n        \"vertical\": !isHorizontal,\n        \"flicking-hidden\": this.hideBeforeInit && !initialized\n      }\n    };\n    const cameraData = {\n      class: {\n        \"flicking-camera\": true,\n        [this.cameraClass]: !!this.cameraClass\n      },\n      style: !initialized && this.firstPanelSize\n        ? { transform: getDefaultCameraTransform(this.options.align, this.options.horizontal, this.firstPanelSize) }\n        : {}\n    };\n\n    const panels = options.virtual && options.panelsPerView && options.panelsPerView > 0\n      ? this.getVirtualPanels\n      : this.getPanels;\n\n    const viewportSlots = this.$slots.viewport\n      ? this.$slots.viewport()\n      : [];\n\n    return h(this.viewportTag, viewportData,\n      [h(this.cameraTag, cameraData, { default: panels }), ...viewportSlots]\n    );\n  },\n  methods: {\n    getSlots() {\n      const slots = this.$slots.default\n        ? this.$slots.default()\n        : [];\n\n      return slots\n        .reduce((elementSlots, slot) => [...elementSlots, ...this.getElementVNodes(slot)], [] as VNode[])\n        .filter(slot => slot.type !== Comment && slot.type !== Text);\n    },\n    getElementVNodes(slot: VNode, childSlots: VNode[] = []): VNode[] {\n      if (slot.type === Fragment && Array.isArray(slot.children)) {\n        slot.children\n          .filter(child => child && typeof child === \"object\")\n          .forEach(child => this.getElementVNodes(child as VNode, childSlots));\n      } else {\n        childSlots.push(slot);\n      }\n\n      return childSlots;\n    },\n    bindEvents() {\n      const flicking = this.vanillaFlicking;\n      const events = (Object.keys(EVENTS) as Array<keyof typeof EVENTS>)\n        .map(key => EVENTS[key]);\n\n      events.forEach(eventName => {\n        flicking.on(eventName, (e: any) => {\n          e.currentTarget = this;\n          // Make events from camelCase to kebab-case\n          this.$emit(eventName.replace(/([A-Z])/g, \"-$1\").toLowerCase(), e);\n        });\n      });\n    },\n    checkPlugins() {\n      const { list, added, removed, prevList } = this.pluginsDiffer.update(this.plugins);\n\n      this.vanillaFlicking!.addPlugins(...added.map(index => list[index]));\n      this.vanillaFlicking!.removePlugins(...removed.map(index => prevList[index]));\n    },\n    fillKeys() {\n      const vnodes = this.getSlots();\n\n      vnodes.forEach((node, idx) => {\n        if (node.key == null) {\n          node.key = `$_${idx}`;\n        }\n      });\n    },\n    getChildren() {\n      const childRefs = this.$refs;\n\n      return Object.keys(childRefs).map(refKey => childRefs[refKey]);\n    }\n  },\n  watch: {\n    options: {\n      handler(newOptions) {\n        const flicking = this.vanillaFlicking;\n        if (!flicking) return;\n\n        // Omit 'virtual', as it can't have any setter\n        const { virtual, ...options } = newOptions; // eslint-disable-line @typescript-eslint/no-unused-vars\n\n        for (const key in options) {\n          if (key in flicking && flicking[key] !== options[key]) {\n            flicking[key] = options[key];\n          }\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  }\n}) as unknown as VueFlicking;\n\ninterface Flicking extends VueFlicking, VanillaFlicking {}\nexport default Flicking;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}